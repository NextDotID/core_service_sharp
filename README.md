# Core Service

C# MVP Implementation of Core Service.

## Usage

> NOTE: WIP

```bash
$ cp docker-compose{.sample,}.yml
$ vim docker-compose.yml
# Focus on `services -> core_service -> environment -> PERSISTENCE_HOST'
$ docker network create core_service
# Prepare init configuration file described below
$ docker-compose up -d
$ curl -vvv http://localhost:80/api/Init/status
```
## Init configuration file

```bash
$ mkdir persistence
$ vim persistence/internal.json
```

Contents in `persistence/internal.json`

```js
{
  "SUBKEY": {
    // Private key of subkey, HEXSTRING starts with '0x' (?)
    "PRIVATE": "0x4cef8195a833417e5058235912ea2732afe19c57ef5fb78048ca683b4702eb58",
    // Public key of subkey, HEXSTRING starts with '0x', both compressed or uncompressed are accepted (?)
    "PUBLIC": "0x043aae1155961c676869d497e1ad9b0016e92553e36a3b1aed6748658bf6a10e551413fdc40575173845fb85bb2a741c923a2baf46be3d7adb67c7e9dadb5dee06",
    // Avatar public key which claims to owns this subkey. Both compressed or uncompressed are accepted (?)
    "AVATAR": "0x03a4c97c24a9c7384e32acd9545d346eece5c2122bf81c9be2557dfea9f985eb47",
    // Signature of this ownership.
    // - Should be generated by avatar
    // - Build sign payload: "Subkey certification signature: 0xSUBKEY_PUB_KEY_UNCOMPRESSED_HEXSTRING" (?)
    // - HashAndSign this payload (?)
    // - Present signature results with `0xSIGNATURE_HEXSTRING` (?)
    "SINGATURE": "0xec85aed6c98e12663db74ba867d8f71db04db7f462738ff47701fbfae723a462724e638ec7bbdbc9c3ee4d259a38d8333dbb88bd870fbd62c0d9870e520fe72d01"
  },
  "HOST": {
    // Host of this instance. Used by traefik.
    "DOMAIN": "https://localhost:7160"
  }
}
```
